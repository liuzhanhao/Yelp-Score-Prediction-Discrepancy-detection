# Yelp Score Prediction & Discrepancy detection
###### tags: `Yelp` `Classification` `Text Analysis`
------

Github repo: https://github.com/liuzhanhao/CS-6220/

### File Structure

	|README.md: 	The readme file
	|
	|.gitignore: 	The git ignore file
	|
	|/task1: 	The folder for the 1st task: Sentiment Analysis & Rate Prediction
	|-----
	|	|--classify.py:		Code for the rate prediction & sentiment analysis		
	|	|--yelp_utils.py:	Helper code for the classify.py
	|
	|/task2: 	The folder for the 2nd task: Automatic Discrepancy Detector [1]
	|-----
	|	|--test_metric.py:  	Code for testing metrics for Automatic Discrepancy Detector
	|
	|/task3: 	The folder for the 3rd task: Machine-generated/Human-written Review Detector
	|-----
	|	|/yelp_review_generator:	The folder for the yelp review machine generator
	|	|--feature_analysis.py:     	Code for feature exploration
	|	|--task3.py:		   	Code for the machine-generated/human-written review detector
	|	|--hotel_data.csv:		The Deceptive Opinion Spam Corpus for hotel reviews [2]
	|	|--machine_data.csv: 		The machine generated reviews
	|	|--deceptive-opinion-2.csv: 	The mixture of human-written fake reviews and real reviews
	|	|--machine_data-3.csv: 		The mixture of machine-generated reviews and real reviews



### Task1: Sentiment Analysis & Rate Prediction

- Classifier to predict sentiment and rating based on text reviews

- Run: `python classify.py <nb/svm/lr> <True/False> <number in [0, 100]> filename` 

- Dataset: [Yelp Dataset Challenge](https://www.yelp.com/dataset/challenge) [3]


### Task2: Automatic Discrepancy Detector

- Use the classification model to detect fake reviews
- Run: `python test_metric.py <data_file_name> <model_file_name>`

### Task3: Machine-generated/Human-written Fake Review Detector

- Machine-generated Review Detector: Classifier to tell if a review is truthful or generated by machine
- Human-written Fake Review Detector: Train a new classification model to tell if a review is truthful or written by people deliberately
- Run:
```python
# bash
python classify.py <nb/svm/lr>

# feature_analysis.py
python feature_analysis.py <hand_written_data_file> <machine_generated_data_file>
```


### Reference

[1\] [Yelp Review Generator](https://github.com/fcchou/yelp_review_generator)

[2] M. Ott, Y. Choi, C. Cardie, and J.T. Hancock. 2011. [Finding Deceptive Opinion Spam by Any Stretch of the Imagination](http://myleott.com/op_spamACL2011.pdf). In Proceedings of the 49th Annual Meeting of the Association for Computational Linguistics: Human Language Technologies.

[3] Yelp Dataset, 2014. URL: http://www.yelp.com/dataset_challenge
